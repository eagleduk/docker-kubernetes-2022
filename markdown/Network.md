# Network

- 각각의 컨테이너가 한가지 주요 작업만 수행하는 것이 docker의 주 목적이기 때문에 월드와이드웹(WWW), 호스트 머신, 컨테이너간 통신이 필요하다.

## 1. 월드와이드웹(WWW)

- 기본적으로 컨테이너는 월드와이드웹(WWW)에 대하여 기본적으로 통신이 가능하다.

## 2. 호스트머신

- 컨테이너에서 호스트 머신에 접속을 할 경우, `host.docker.internal` 이라는 docker URL 예약어를 사용한다.

## 3. 컨테이너

1. 컨테이너의 상세정보(inspects) 명령을 사용하여 `NetworkSettings.IPAddress` 값을 사용하여 IP주소 값을 직접 설정할 수 있다.
2. 동일한 docker network 내부에 존재하는 경우, 컨테이너 이름을 사용하여 서로 통신이 가능하다.

<aside>
💡 도커는 소스코드, 브라우저가 아니라 컨테이너 내에서 요청이 이루어질때(백엔드) 주소를 분석하여 예약어(host.docker.internal) 또는 컨테이너 이름이 사용되면 자동으로 해당되는 IP 주소로 변환하여 요청한다.

</aside>

---

## 네트워크 드라이버

- 드라이버는 네트워크 생성 시 `--driver`옵션을 추가하여 간단히 설정할 수 있습니다.
  ```powershell
  > docker network create --driver bridge my-net
  ```
- **bridge**: 기본 네트워크 드라이버. 이 드라이버는 모듈에 나타난 동작을 제공합니다 (즉, 컨테이너가 동일한 네트워크에 있는 경우, 이름으로 서로를 찾을 수 있다).
- **host**: 스탠드얼론 컨테이너의 경우, 컨테이너와 호스트 시스템 간의 격리가 제거됩니다 (즉, localhost를 네트워크로 공유함).
- **overlay**: 여러 Docker 데몬 (즉, 서로 다른 머신에서 실행되는 Docker)이 서로 연결될 수 있습니다. 여러 컨테이너를 연결하는 구식의 / 거의 사용되지 않는 방법인 'Swarm' 모드에서만 작동합니다.
- **macvlan**: 컨테이너에 커스텀 MAC 주소를 설정할 수 있습니다. 그러면 이 주소를 해당 컨테이너와 통신하는데 사용할 수 있습니다.
- **none**: 모든 네트워킹이 비활성화됩니다.
- **써드파티 플러그인**: 모든 종류의 동작과 기능을 추가할 수 있는 타사 플러그인을 설치할 수 있습니다.
